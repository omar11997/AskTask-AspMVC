
@{
    ViewData["Title"] = "ShowOrders";
	Layout = "_PageWithNavLayout";

}
@model List<Order>


    <div class="container mt-3">
    <h2 style ="width:40%; margin:0 auto;margin-top:30px">
        Your Pinned Services</h2>
        <br />
        <table class="table table-striped">
            <thead>
                <tr>
                    <th>Name</th>
                    <th>Address</th>
                    <th>Phone</th>
                    <th>Service Type</th>
                    <th></th>
                    <th></th>

                </tr>
            </thead>
            <tbody>
            @foreach (Order item in Model)
            {
                <tr>
                    <td>@item.PosterName</td>
                    <td>@item.Address</td>
                    <td>@item.Phone</td>
                    <td>@item.ServiceType</td>
                    <td><a class="btn btn-warning" href="/Order/EditOrder?id=@item.OrderId">Edit</a></td>
                    <td><a id="cancel" onclick="handleCancelClick(event)" class="btn btn-warning" href="/Order/DeleteOrder?id=@item.OrderId" data-order-id="@item.OrderId">Cancel</a></td>
                </tr>
            }
                
            </tbody>
        </table>
    </div>
<a href="/Task/ShowAllServices" class="btn btn-outline-success" style="width:200px;margin:0 auto;">Back</a>

@section Scripts {
   @* <script>
        var cancel= document.getElementById("cancel");
        cancel.addEventListener("click",function (e){
            window.prompt
        })
    </script>*@
    <script>
       
        function handleCancelClick(e) {
            e.preventDefault();
            var confirmed = window.confirm("Are you sure you want to cancel?");

            if (confirmed) {
                // Add any code here that should run if the user confirms the cancellation
                var id = e.target.dataset.orderId;
                window.location.href = e.target.href;
            }
        }
        
        
    </script>
}
   


